
<!-- README.md is generated from README.Rmd. Please edit that file -->

# PSRC.analysis

## How to download and run locally

This research compendium has been developed using the statistical
programming language R. To work with the compendium, you will need
installed on your computer the [R
software](https://cloud.r-project.org/) itself and optionally\* [RStudio
Desktop](https://rstudio.com/products/rstudio/download/).

The statistical analysis in this compendium also heavily relies on the
proprietary software [Mplus](https://www.statmodel.com/). An Mplus
license and installation on your computer are necessary to run the
complete analysis. Mplus version 8.6 was used to run this analysis,
although using a later version should not cause any issues.

1.  Clone this repository
2.  Clone the other repository called
    [PSRCData](https://github.com/e-mcbride/PSRCData), which contains
    the data used and modifications made to the data for usability.
3.  In RStudio\*, open the PSRCData `.Rproj` file (NOT PSRC.analysis
    yet)
4.  Click the “Build” tab in the “Environment, History, Connections …”
    panel in RStudio\*, then click “Install and Restart”.
5.  Now, open the PSRC.analysis `.Rproj` file in RStudio
6.  Run `devtools::install()` to ensure you have the packages this
    analysis depends on (also listed in the [DESCRIPTION](/DESCRIPTION)
    file).
7.  Run `rrtools::use_analysis()`. If asked, go head and overwrite
    `references.bib` and `paper.Rmd`.

You are now set up to run the .R files in the [analysis](/analysis)
directory!

\* *If you are not using RStudio Desktop, I cannot advise you on how to
build the PSRCData package.*

## Contents

The [**analysis**](/analysis) directory contains:

-   :file_folder: **data**: Data used in the analysis. This folder is
    not in the GitHub repository, but it will be created when you run
    `rrtools::use_analysis()`
-   [:file_folder: **figures**](/analysis/figures): Plots and other
    illustrations.
-   [:file_folder: **Mplus**](/analysis/Mplus): All syntax of models run
    in Mplus.
-   [:file_folder:
    **unneeded_unfinished**](/analysis/unneeded_unfinished): Scripts
    that I am not done writing and cannot yet run, or things I have
    removed from the main analysis workflow, but I want to keep a record
    of.
-   :scroll: **.R files**: Files to run the analysis, named to indicate
    the the order to run them in. Please see “.R file naming protocol”
    for a description of the numbering/naming system.

Also in the [**analysis**](/analysis) directory are three
sub-directories that are not used in this project. During the initiation
of this project, the function `rrtools::use_analysis()` is run. This
function creates the file structure used in this project. They are
included because they will be automatically created when you download
and run this project locally.

-   [:file_folder: **paper**](/analysis/paper): R Markdown source
    document for manuscript. If used, this folder would include code to
    reproduce the figures and tables generated by the analysis. It also
    has a rendered version, `paper.docx`, suitable for reading (the code
    is replaced by figures and tables in this file).
-   [:file_folder:
    **supplementary-materials**](/analysis/supplementary-materials):
    Would contain Supplementary materials including notes and other
    documents prepared and collected during the analysis.
-   [:file_folder: **templates**](/analysis/templates): Contains files
    to set reference list/citation style and to style the output of
    `paper.Rmd`

## .R file naming protocol

Below is the format used:

    ##_##_descriptive-name.R

Underscores (`_`) separate the sections of the file name. Each section
of the file name has a purpose:

-   **First number:** category of work being done in the file

    | Number | Description                                                       |
    |:------:|-------------------------------------------------------------------|
    |  `01`  | Data cleaning, preparation, optimal matching/clustering processes |
    |  `02`  | Data preparation for running models with Mplus                    |
    |  `03`  | Interfacing between R and Mplus                                   |
    |  `9#`  | Scripts for supplementary materials.                              |

-   **Second number:** file run order within each category. Important
    for possible dependencies between files.

-   **Descriptive name:** describes what each file does in words
    separated by dashes (`-`) and underscores (`_`)

### Licenses

**Text and figures :**
[CC-BY-4.0](http://creativecommons.org/licenses/by/4.0/)

**Code :** See the [DESCRIPTION](DESCRIPTION) file

### Contributions

We welcome contributions from everyone. Before you get started, please
see our [contributor guidelines](CONTRIBUTING.md). Please note that this
project is released with a [Contributor Code of Conduct](CONDUCT.md). By
participating in this project you agree to abide by its terms.
